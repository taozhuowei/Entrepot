{"remainingRequest":"F:\\NodeModules\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\TZW\\Entrepot\\CodeSnippet\\级联下拉选择器\\cascaderTree.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\TZW\\Entrepot\\CodeSnippet\\级联下拉选择器\\cascaderTree.vue","mtime":1626361803845},{"path":"F:\\NodeModules\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\NodeModules\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\NodeModules\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXJyYXlUb1RyZWUgZnJvbSAiLi9hcnJheVRvVHJlZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogImNhc2NhZGVyIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGxhaW5EYXRhOiBbDQogICAgICAgIHsgaWQ6IDAgfSwNCiAgICAgICAgeyBpZDogMSwgdmFsOiAi6L695a6B55yBIiwgcGlkOiAwIH0sDQogICAgICAgIHsgaWQ6IDIsIHZhbDogIuWFtuS7luecgSIsIHBpZDogMCB9LA0KICAgICAgICB7IGlkOiAzLCB2YWw6ICLplKblt57luIIiLCBwaWQ6IDEgfSwNCiAgICAgICAgeyBpZDogNCwgdmFsOiAi5rKI6Ziz5biCIiwgcGlkOiAxIH0sDQogICAgICAgIHsgaWQ6IDUsIHZhbDogIuaXoOWQjeW4giIsIHBpZDogMiB9LA0KICAgICAgICB7IGlkOiA2LCB2YWw6ICLkuI3nn6XpgZPluIIiLCBwaWQ6IDIgfSwNCiAgICAgICAgeyBpZDogNywgdmFsOiAi5Y+k5aGU5Yy6IiwgcGlkOiAzIH0sDQogICAgICAgIHsgaWQ6IDgsIHZhbDogIuWkquWSjOWMuiIsIHBpZDogMyB9LA0KICAgICAgICB7IGlkOiA5LCB2YWw6ICLpk4Hopb/ljLoiLCBwaWQ6IDQgfSwNCiAgICAgICAgeyBpZDogMTAsIHZhbDogIueah+WnkeWMuiIsIHBpZDogNCB9LA0KICAgICAgICB7IGlkOiAxMSwgdmFsOiAi5LiN5Yiw5ZWl5Yy6IiwgcGlkOiA1IH0sDQogICAgICAgIHsgaWQ6IDEyLCB2YWw6ICLlhoXllaXljLoiLCBwaWQ6IDUgfSwNCiAgICAgICAgeyBpZDogMTMsIHZhbDogIui/meWMuiIsIHBpZDogNiB9LA0KICAgICAgICB7IGlkOiAxNCwgdmFsOiAi5LmQ5ZWl5ZWl5Yy6IiwgcGlkOiA2IH0sDQogICAgICBdLA0KDQogICAgICB0cmVlRGF0YTogW10sDQoNCiAgICAgIHNlbGVjdGlvbjE6ICIiLA0KICAgICAgb3B0aW9uczE6IFtdLA0KDQogICAgICBzZWxlY3Rpb24yOiAiIiwNCiAgICAgIG9wdGlvbnMyOiBbXSwNCg0KICAgICAgc2VsZWN0aW9uMzogIiIsDQogICAgICBvcHRpb25zMzogW10sDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnRyZWVEYXRhID0gYXJyYXlUb1RyZWUodGhpcy5wbGFpbkRhdGEpOw0KICAgIHRoaXMuc2VsZWN0aW9uSW5pdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/liJ3lp4vljJbpgInpobnmlbDnu4QNCiAgICBzZWxlY3Rpb25Jbml0KCkgew0KICAgICAgdGhpcy5vcHRpb25zMSA9IHRoaXMuZmluZENoaWxkcmVuRnJvbVRyZWVEYXRhKHRoaXMudHJlZURhdGFbMF0sICJyb290IikuY2hpbGRyZW47DQogICAgICBjb25zb2xlLmxvZyh0aGlzLm9wdGlvbnMxKTsNCiAgICAgIHRoaXMuc2VsZWN0aW9uMSA9IHRoaXMub3B0aW9uczFbMF0udmFsOw0KICAgICAgdGhpcy5oYW5kbGVDaGFuZ2VGaXJzdFNlbGVjdCgpOw0KICAgICAgdGhpcy5oYW5kbGVDaGFuZ2VTZWNvbmRTZWxlY3QoKTsNCiAgICB9LA0KDQogICAgLy8g56ys5LiA5Liq5LiL5ouJ5qGGY2hhbmdl5LqL5Lu25Zue6LCDDQogICAgaGFuZGxlQ2hhbmdlRmlyc3RTZWxlY3QoKSB7DQogICAgICBjb25zdCByZXMgPSB0aGlzLmZpbmRDaGlsZHJlbkZyb21UcmVlRGF0YSh0aGlzLnRyZWVEYXRhWzBdLCB0aGlzLnNlbGVjdGlvbjEpLmNoaWxkcmVuOw0KICAgICAgdGhpcy5vcHRpb25zMiA9IHJlczsNCiAgICAgIHRoaXMuc2VsZWN0aW9uMiA9IHJlc1swXS52YWw7DQogICAgICB0aGlzLmhhbmRsZUNoYW5nZVNlY29uZFNlbGVjdCgpOw0KICAgIH0sDQoNCiAgICAvLyDnrKzkuozkuKrkuIvmi4nmoYZjaGFuZ2Xkuovku7blm57osIMNCiAgICBoYW5kbGVDaGFuZ2VTZWNvbmRTZWxlY3QoKSB7DQogICAgICBjb25zdCByZXMgPSB0aGlzLmZpbmRDaGlsZHJlbkZyb21UcmVlRGF0YSh0aGlzLnRyZWVEYXRhWzBdLCB0aGlzLnNlbGVjdGlvbjIpLmNoaWxkcmVuOw0KICAgICAgdGhpcy5vcHRpb25zMyA9IHJlczsNCiAgICAgIHRoaXMuc2VsZWN0aW9uMyA9IHJlc1swXS52YWw7DQogICAgfSwNCg0KICAgIC8vIOmBjeWOhuagkeW9oue7k+aehOaVsOaNruW5tuaJvuWIsOebruagh+iKgueCuQ0KICAgIGZpbmRDaGlsZHJlbkZyb21UcmVlRGF0YShub2RlLCB2YWwgLCBwYXRoKSB7DQogICAgICAvL+afpeaJvui3r+W+hA0KICAgICAgcGF0aCA9IHBhdGggfHwgW107DQogICAgICAvL+a3seaLt+i0nXBhdGgNCiAgICAgIGNvbnN0IHRlbXBQYXRoID0gcGF0aC5jb25jYXQoKTsNCiAgICAgIHRlbXBQYXRoLnB1c2gobm9kZS52YWwpOw0KICAgICAgaWYgKG5vZGUudmFsID09PSB2YWwpIHsNCiAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICBwYXRoOiB0ZW1wUGF0aC5zbGljZSgxKSwNCiAgICAgICAgICAgICAgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4NCiAgICAgICAgICB9Ow0KICAgICAgfQ0KICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHsNCiAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLmZpbmRDaGlsZHJlbkZyb21UcmVlRGF0YShjaGlsZCwgdmFsICwgdGVtcFBhdGgpOw0KICAgICAgICAgIGlmIChyZXMpIHJldHVybiByZXM7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["cascaderTree.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cascaderTree.vue","sourceRoot":".","sourcesContent":["<!-- -->\r\n<template>\r\n  <div class=\"cascader-container\">\r\n    <select v-model=\"selection1\" @change=\"handleChangeFirstSelect\">\r\n      <option v-for=\"(item, index) in options1\" :key=\"index\" :value=\"item.val\">{{ item.val }}</option>\r\n    </select>\r\n\r\n    <select v-model=\"selection2\" @change=\"handleChangeSecondSelect\">\r\n      <option v-for=\"(item, index) in options2\" :key=\"index\" :value=\"item.val\">{{ item.val }}</option>\r\n    </select>\r\n\r\n    <select v-model=\"selection3\">\r\n      <option v-for=\"(item, index) in options3\" :key=\"index\" :value=\"item.val\">{{ item.val }}</option>\r\n    </select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport arrayToTree from \"./arrayToTree\";\r\n\r\nexport default {\r\n  name: \"cascader\",\r\n  data() {\r\n    return {\r\n      plainData: [\r\n        { id: 0 },\r\n        { id: 1, val: \"辽宁省\", pid: 0 },\r\n        { id: 2, val: \"其他省\", pid: 0 },\r\n        { id: 3, val: \"锦州市\", pid: 1 },\r\n        { id: 4, val: \"沈阳市\", pid: 1 },\r\n        { id: 5, val: \"无名市\", pid: 2 },\r\n        { id: 6, val: \"不知道市\", pid: 2 },\r\n        { id: 7, val: \"古塔区\", pid: 3 },\r\n        { id: 8, val: \"太和区\", pid: 3 },\r\n        { id: 9, val: \"铁西区\", pid: 4 },\r\n        { id: 10, val: \"皇姑区\", pid: 4 },\r\n        { id: 11, val: \"不到啥区\", pid: 5 },\r\n        { id: 12, val: \"内啥区\", pid: 5 },\r\n        { id: 13, val: \"这区\", pid: 6 },\r\n        { id: 14, val: \"乐啥啥区\", pid: 6 },\r\n      ],\r\n\r\n      treeData: [],\r\n\r\n      selection1: \"\",\r\n      options1: [],\r\n\r\n      selection2: \"\",\r\n      options2: [],\r\n\r\n      selection3: \"\",\r\n      options3: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.treeData = arrayToTree(this.plainData);\r\n    this.selectionInit();\r\n  },\r\n  methods: {\r\n    //初始化选项数组\r\n    selectionInit() {\r\n      this.options1 = this.findChildrenFromTreeData(this.treeData[0], \"root\").children;\r\n      console.log(this.options1);\r\n      this.selection1 = this.options1[0].val;\r\n      this.handleChangeFirstSelect();\r\n      this.handleChangeSecondSelect();\r\n    },\r\n\r\n    // 第一个下拉框change事件回调\r\n    handleChangeFirstSelect() {\r\n      const res = this.findChildrenFromTreeData(this.treeData[0], this.selection1).children;\r\n      this.options2 = res;\r\n      this.selection2 = res[0].val;\r\n      this.handleChangeSecondSelect();\r\n    },\r\n\r\n    // 第二个下拉框change事件回调\r\n    handleChangeSecondSelect() {\r\n      const res = this.findChildrenFromTreeData(this.treeData[0], this.selection2).children;\r\n      this.options3 = res;\r\n      this.selection3 = res[0].val;\r\n    },\r\n\r\n    // 遍历树形结构数据并找到目标节点\r\n    findChildrenFromTreeData(node, val , path) {\r\n      //查找路径\r\n      path = path || [];\r\n      //深拷贝path\r\n      const tempPath = path.concat();\r\n      tempPath.push(node.val);\r\n      if (node.val === val) {\r\n          return {\r\n              path: tempPath.slice(1),\r\n              children: node.children\r\n          };\r\n      }\r\n      if (node.children.length > 0) {\r\n        for (const child of node.children) {\r\n          const res = this.findChildrenFromTreeData(child, val , tempPath);\r\n          if (res) return res;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}